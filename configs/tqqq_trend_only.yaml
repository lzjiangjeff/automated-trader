# TQQQ Trend-Only Configuration
# Research Only / Not Financial Advice

symbol:
  primary: TQQQ
  context:
    - QQQ
    - VIX

data:
  start_date: "2012-01-01"
  end_date: "2025-11-08"
  interval: "1d"
  cache_dir: "data/"

strategies:
  trend_ema:
    enabled: true
    ema_fast: 12
    ema_medium: 26
    ema_slow: 55
    rsi_period: 14
    rsi_long_threshold: 52.0
    rsi_short_threshold: 45.0
    long_only: true
    regime_filter_enabled: true
    regime_sma_period: 200
    dual_timeframe_enabled: true
    dual_timeframe_ema: 100
    pullback_tolerance: 0.04
    continuation_tolerance: 0.03
    min_trend_strength: 0.0
    max_volatility: 0.35
    min_bars_between_signals: 1
    exit_buffer: 0.015
    fast_buffer: 0.0
    volatility_time_stop_bars: 10
    volatility_time_stop_threshold: 0.02
    adx_threshold: 20.0

  breakout_momentum:
    enabled: true
    lookback: 10
    rvol_threshold: 1.4
    adx_threshold: 18.0
    atr_buffer_mult: 0.25
    long_only: true

  mean_reversion:
    enabled: false
    lookback: 20
    std_dev: 2.5
    adx_threshold: 18
    bb_width_quantile: 0.3

  volatility_overlay:
    enabled: true
    atr_period: 14
    vol_target_annual: 0.25
    min_size_mult: 0.5
    max_size_mult: 1.5

  regime_filter:
    enabled: true
    qqq_sma_period: 200
    vix_threshold: 22.0
    risk_off_exposure: 0.15

  ensemble:
    enabled: false
    weights: {}

risk:
  initial_capital: 100000.0
  per_trade_risk_pct: 5.0
  max_net_exposure: 2.4
  min_net_exposure: -1.0
  max_gross_exposure: 3.2
  stop_atr_mult: 2.2
  trailing_stop_atr_mult: 1.5
  trailing_start_r: 3.0
  trailing_mid_r: 6.0
  trailing_end_r: 12.0
  trailing_start_mult: 1.3
  trailing_mid_mult: 1.1
  trailing_end_mult: 1.0
  time_stop_bars: 0
  daily_loss_limit_pct: 3.0
  max_drawdown_pct: 30.0
  drawdown_recovery_exposure: 0.55
  pyramid_enabled: true
  pyramid_max_adds: 3
  pyramid_add_thresholds: [1.5, 3.0, 5.0]
  pyramid_add_scale: 0.7

costs:
  commission_per_share: 0.005
  slippage_bps: 5.0
  market_impact_bps: 3.0

backtesting:
  walk_forward:
    train_years: 3
    test_years: 1
    min_train_years: 2
  benchmark_symbols:
    - TQQQ
    - QQQ
  stress_tests: []

reporting:
  output_dir: "out/"
  generate_charts: true
  generate_html: true
  chart_format: "png"
  save_trade_log: true
  save_metrics_json: true

execution:
  mode: "paper"
  ibkr:
    host: "127.0.0.1"
    port: 7497
    client_id: 1
    timeout: 30
  risk_guard: true
  kill_switch_enabled: true

